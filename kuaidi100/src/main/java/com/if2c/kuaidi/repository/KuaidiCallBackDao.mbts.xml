<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.if2c.kuaidi.repository.KuaidiCallBackDao">
    <insert id="insertMailNoInfo" parameterType="com.if2c.kuaidi.entity.Kuaidi">
		insert into kuaidi_status_info(express_company_code,express_num,status,express_info,create_time,update_time)  
		VALUES(#{companyName},#{mailNo,jdbcType=INTEGER},#{status},#{kuaidiInfo},#{create_time,jdbcType=TIMESTAMP},#{update_time,jdbcType=TIMESTAMP})  ON DUPLICATE KEY update status=#{status},express_info=#{kuaidiInfo},update_time=#{update_time}
	</insert>
    <select id="find">
		Select express_company_code,express_num,status,express_info from  kuaidi_status_info 
		where express_company_code=#{companyName} and express_num=#{mailNo}		
	</select>
	
	<select id="searchAllNoPostExpressNum" resultType="java.util.Map">
		select order_id,express_code,express_num from order_express where express_num_status=0 limit 10
	</select>
	<select id="updateExpressNumStatus" >
		update  order_express set  express_num_status=1 where express_num=#{express_num} and express_code=#{companyCode} 
	</select>
	
</mapper>